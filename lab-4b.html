<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lab 4b</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="overview.html">Overview</a>
</li>
<li>
  <a href="js-introduction.html">JS Intro</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lab 4
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lab-4.html">Lab 4a</a>
    </li>
    <li>
      <a href="lab-4b.html">Lab 4b</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Lab 4b</h1>

</div>


<p><br></p>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This lab will introduce tools for spatial data visualisation in Google Earth Engine. Data visualisation is the activity of relating observations and variation within variables in your data to visual objects and properties on a display (aesthetics). How you relate your data values to display objects will determine what insights you can derive from your data, what patterns and relationships it will reveal, and what messages you can convey from your data. Visual objects and properties you can relate to data values include geometric objects (points, lines, polygons, pixels for a map; histogram bar polygons, line chart lines, scatter plot points for charts), line width, line style, point marker type, displacement, and colour. This lab will focus on the use of colour to represent features or patterns in geospatial data but you should also be aware of other visual properties of your map display that can be varied; for example, you don’t want to use a line width so thick that it obscures variation in polygons represented by colour fill values.</p>
<div id="setup" class="section level3">
<h3>Setup</h3>
<p>Create a new script in your <em>labs-gee</em> repository called <em>lab4b</em>. Enter the following comment header to the script.</p>
<p><br></p>
<pre class="js"><code>/*
Lab 4b
Author: Test
Date: XX-XX-XXXX

*/
</code></pre>
<p><br></p>
<hr>
</div>
</div>
<div id="colour-theory" class="section level2">
<h2>Colour Theory</h2>
<p>One of the key aspects of spatial data visualisation is using colour to represent variation in data values. This process involves mapping data values to colours and then assigning colours to objects (e.g. points, lines, polygons, or pixels) on your display. As stated by <a href="https://serialmentor.com/dataviz/color-basics.html" target="_blank">Wilke (2019)</a> there are three main uses of colour in data visualisation:</p>
<ol style="list-style-type: decimal">
<li>distinguish groups in your data from each other</li>
<li>represent data values</li>
<li>to highlight features in your data</li>
</ol>
<div id="colour" class="section level3">
<h3>Colour</h3>
<p>Color is defined by the characteristics of a mix wavelengths of light in the visible spectrum <a href="https://ggplot2-book.org/index.html" target="_blank">Wickham (2020)</a>. A particular colour is defined by levels of intensity of light in different parts of the visible spectrum (e.g. yellow is a mixture of light in red and green wavelengths). The human eye has three types of sensors / receptors (cones) with each type of sensor most sensitive to light with wavelenghts of 0.44 <span class="math inline">\(\mu\)</span>m (blue), 0.53 <span class="math inline">\(\mu\)</span>m (green), and 0.57 <span class="math inline">\(\mu\)</span>m (yellow - but absorbs red light). The human eye can distinguish millions of colours <a href="https://www.crcsi.com.au/history-2/earth-observation-series-2/" target="_blank">CRCSI (2016)</a>; thus, colour is useful for representing variation, patterns, or interesting features in your data.</p>
<br>
<center>
<div class="figure" style="text-align: center">
<img src="img/human-eye-colour.png" alt="Relative light absorption of cones in the human eye (source: [CRCSI (2016)](https://www.crcsi.com.au/history-2/earth-observation-series-2/))." width="60%" />
<p class="caption">
Relative light absorption of cones in the human eye (source: <a href="https://www.crcsi.com.au/history-2/earth-observation-series-2/">CRCSI (2016)</a>).
</p>
</div>
</center>
<p><br></p>
<p>An individual colour can be described in terms of hue, value, or chroma <a href="https://www.crcsi.com.au/history-2/earth-observation-series-2/" target="_blank">(CRCSI, 2016)</a>:</p>
<ul>
<li><strong>Hue:</strong> the attribute commonly associated with colour which is determined by the mix wavelengths. Hues have an order which follows the colours of the spectrum (ROYGBV) and spectral hues can be created by mixing adjacent wavelengths. Purple, for example, is a non-spectral hue as it is a mixture of blue and red whose wavelengths are not adjacent.</li>
<li><strong>Brightness (Value / Intensity):</strong> is the perceived brightness of a colour and is related to the amount of energy in all wavelengths of a light reflected by an object. This is the intensity or value of light.</li>
<li><strong>Chroma (Saturation):</strong> is related to the purity of a colour. It can be thought of as the distribution of intensity in wavelengths around the wavelength of average (peak) intensity of light reflected by an object. Adding white, grey, or black to light reduces the chroma and produces pastel colours.</li>
</ul>
</div>
<div id="colour-models-colour-spaces" class="section level3">
<h3>Colour Models / Colour Spaces</h3>
<p><strong>Additive Primaries (RGB Cube)</strong></p>
<p>Colour is represented by combinations (addition) of red, green, and blue light. Red, green, and blue are primary colours and combine to form white. An absence of red, green, and blue is black. Secondary colours, which are brighter than any of the primary colours, can be formed by the addition of primary colours of varying intensities (e.g. yellow is the addition of red and green, magenta is the addition of red and blue, and cyan is the addition of green and blue). A related colour model uses subtractive primary colours (yellow, magenta, or cyan) which are subtracted from a white background to produce different colours.</p>
<br>
<center>
<div class="figure" style="text-align: center">
<img src="img/colour-models-crcsi.png" alt="Additive and subtractive colour models (source: [CRCSI (2016)](https://www.crcsi.com.au/history-2/earth-observation-series-2/))." width="70%" />
<p class="caption">
Additive and subtractive colour models (source: <a href="https://www.crcsi.com.au/history-2/earth-observation-series-2/">CRCSI (2016)</a>).
</p>
</div>
</center>
<p><br></p>
<p>Colour can be represented by coordinates in 3D space using the RGB colour cube where each dimension is represented by a primary colour. The intensity of a colour is represented by its position along a dimension. Grey colours, equal intensities of each of the primary colours, is represented by the diagonal axis from black (absence of primary colours) to white (complete presence of the spectrum of colours).</p>
<br>
<center>
<div class="figure" style="text-align: center">
<img src="img/rgb-colour-cube.png" alt="RGB Colour Cube (source: [CRCSI (2016)](https://www.crcsi.com.au/history-2/earth-observation-series-2/))." width="70%" />
<p class="caption">
RGB Colour Cube (source: <a href="https://www.crcsi.com.au/history-2/earth-observation-series-2/">CRCSI (2016)</a>).
</p>
</div>
</center>
<p><br></p>
<p><strong>Hue, Saturation, Intensity (HSI) Colour Space</strong></p>
<p>Colour coordinates in the RGB cube colour model can be transformed to coordinates in Hue, Saturation, and Intensity (HSI) space. Hue represents saturated pure colours as angular values surrounding a central axis of achromatic colour with black at the bottom and white at the top (red hue = 0 or 360; green = 120; blue = 240). This central axis represents the lightness of the colour (black = 0 % and white = 100 %). The saturation of a colour represents the amount of grey in the colour (grey = 0 % and pure colour = 100 %).</p>
<br>
<center>
<div class="figure" style="text-align: center">
<img src="img/1600px-HSL_color_solid_cylinder.png" alt="HSL colour model (source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:HSL_color_solid_cylinder.png))." width="70%" />
<p class="caption">
HSL colour model (source: <a href="https://commons.wikimedia.org/wiki/File:HSL_color_solid_cylinder.png">Wikimedia Commons</a>).
</p>
</div>
</center>
<p><br></p>
<p><strong>Colour on Computer Displays</strong></p>
<p>Computer displays consist of red, green, and blue sub-pixels, which when activated with different intensities, are perceived as different colours. The range of colours that can be displayed on a computer display is called the <em>gamut</em>. Colour in computer programs is represented as a three byte hexadecimal number which byte 1 corresponding to red, byte 2 corresponding to green, and byte 3 corresponding to blue. Each byte can take the range of 00 to FF in the hexadecimal system (or 0 to 255 in decimal). 00 indicates the absence of that colour and FF indicates saturation of that colour. <code>FF0000</code> is red, <code>00FF00</code> is green, and <code>0000FF</code> is blue.</p>
<p>Use this <a href="https://www.w3schools.com/colors/colors_rgb.asp" target="_blank">RGB colour picker</a> to see how changing red, green, and blue intensities creates hexadecimal number representations of the colour.</p>
<p>Similarly, you can use this <a href="https://www.w3schools.com/colors/colors_hsl.asp" target="_blank">HSL colour picker</a> to see how changing hue, saturation, and lightness results in different hexadecimal number representations of colour.</p>
<br>
<details>
<summary><b><em>How would you represent pure yellow as a 3 byte hexadecimal number?</em></b></summary>
<p>
<br> <code>FFFF00</code>
</p>
</details>
<p><br></p>
<details>
<summary><b><em>You want to represent a flooded location as a blue polygon object on your map display. You want this object to stand out and appear bright. What would be suitable hue, saturation, and lightness values for this object? What hexadecimal number would represent these HSL values?</em></b></summary>
<p>
<p><br> Choose a colour with a distinctive blue hue (around 240), pure colour (saturation close to 1 or 100 %), and a lightness with minimal white or black shades (around 0.5 or 50 %). Depending on the basemap and colour of other objects on the map you could adjust these values to maximise visual discrimination of the flooded object. <br> <code>0000FF</code> <br></p>
<div class="figure" style="text-align: center">
<img src="img/w3schools-colour-picker.png" alt="Distinctive blue for displaying a flood object (source: [W3Schools](https://www.w3schools.com/colors/colors_hsl.asp))." width="70%" />
<p class="caption">
Distinctive blue for displaying a flood object (source: <a href="https://www.w3schools.com/colors/colors_hsl.asp">W3Schools</a>).
</p>
</div>
</p>
</details>
<p><br></p>
</div>
<div id="choosing-colours" class="section level3">
<h3>Choosing Colours</h3>
<p>Choose colours and colour palettes that account for colour blindness. There are online tools that you can use to simulate colour blindness (e.g. <a href="https://colororacle.org" target="_blank">color oracle</a>).</p>
<p>Choose colours / colour palettes that have a logical interpretation (e.g. greens for vegetation; blue for wet; red for hot).</p>
<p>If your data values don’t have a natural order (e.g. land cover data) don’t use a colour scale that implies order (e.g. dark to light colours, low to high saturation, warm to cool hues). Section 4 in <a href="https://serialmentor.com/dataviz/color-basics.html" target="_blank">Wilke (2019)</a> outlines key points to consider when choosing a colour scale to represent variation in your data and <a href="https://serialmentor.com/dataviz/color-pitfalls.html" target="_blank">common pitfalls</a> to avoid when using colour for data visualisations.</p>
<p>If there is order in your data, <em>sequential</em> colour palettes which indicate large and small values and distance between values should be used. Sequential colour palettes can be single-hue or multi-hue The top group of colour palettes in the below figure depict sequential colour palettes from <a href="https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3" target="_blank">Color Brewer</a>. In some cases, your data might have a logical midpoint value (e.g. median) and you want your colour palette to represent variation away from this value. In this instance a <em>diverging</em> colour palette should be used (see the bottom group of colour palettes in the below figure). <em>Qualitative</em> colour palettes (middle group in the figure below) assign colours to data values or categories where each colour appears equivalent and distinct. They should be used for categorical and unordered data. The <a href="https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3" target="_blank">Color Brewer</a> website is a good resource for generating colour palettes for spatial data which also account for colour blindness.</p>
<p><br></p>
<div class="figure" style="text-align: center">
<img src="lab-4b_files/figure-html/brewer-scales-1.png" alt="ColourBrewer scales (source [R 4 Data Science](https://r4ds.had.co.nz/graphics-for-communication.html))" width="60%" />
<p class="caption">
ColourBrewer scales (source <a href="https://r4ds.had.co.nz/graphics-for-communication.html">R 4 Data Science</a>)
</p>
</div>
<p><br></p>
<p>Be aware of context and how the relationship between objects on a map display can affect how they are perceived by human eyes. For example, thin geometric features are not easily detected when represented in blue hues, the perceived hue of an object changes with background colour (blue features are hard to detect on black backgrounds, yellow is hard to detect on white backgrounds), and the perceived chroma of an object is related to feature size. <a href="https://www.crcsi.com.au/assets/Consultancy-Reports-and-Case-Studies/Earth-Observation-reports-updated-Feb-2019/Vol2A-high-res-84MB.pdf" target="_blank">Excursus 5.2 (CRCSI, 2017; p. 75)</a> highlights how color composition can obscure or misrepresent variation in spatial data.</p>
<br>
<details>
<summary><b><em>Go to the <a href="https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3" target="_blank">Color Brewer</a> website and choose a colour palette to represent spatial variation in precipitation? Justify why this is a suitable colour palette. Look out for how to copy the hexadecimal values representing the colours as a JavaScript array.</em></b></summary>
<p>
<br> Diverging colour palette emphasises variation between wet and dry areas with red representing dry areas and blue wet areas. Pure red and blue will highlight extreme values. People who are colour blind will be able to distinguish variation in precipitation. <br>
<center>
<iframe src="https://player.vimeo.com/video/444908480" width="640" height="399" frameborder="0" allow="autoplay; fullscreen" allowfullscreen>
</iframe>
<p>
Selecting a colour palette to represent precipitation using Color Brewer.
</p>
</center>
</p>
</details>
<p><br></p>
<hr>
</div>
</div>
<div id="colour-to-highlight-features" class="section level2">
<h2>Colour to Highlight Features</h2>
<p>You can use colour to highlight certain features or patterns in your data, or, as is often the case in spatial data visualisation, make certain features stand out from a base map. Look at the colours used in Google Maps and also the typical styling for <a href="https://www.openstreetmap.org/#map=12/-31.9353/115.8210" target="_blank">open street maps</a>; they use subdued and relatively impure pastel colours. You can use strong and pure colours to visualise features that stand out against these backgrounds.</p>
<p>In the map display zoom and scroll to an area of parkland in Perth. Use the <em>Geometry Tools</em> to digitise a Polygon object to represent green space or a park. Change the name of the variable storing the Polygon <code>Geometry</code> object to <code>park</code>. Add the Polygon object in <code>park</code> to the map display with the <font color="#99e6b3">green colour</font>: <code>#99e6b3</code>. To do this you need to use the following functions:</p>
<ul>
<li><code>Map.addLayer()</code> - adds an Google Earth Engine object (i.e. spatial data stored in a variable on the Google servers) to the map display in your browser. You pass the variable you wish to display (i.e. <code>park</code>), a dictionary of visualisation parameters that specify how the spatial data is visualised (i.e. <code>{color:"#99e6b3"}</code>), and string name of the layer (i.e. <code>"Park"</code>).</li>
<li><code>Map.centerObject()</code> - centers the map display on the location of an object passed as a variable to function (i.e. <code>park</code>) with the second argument being a number specifying the zoom level (i.e. <code>15</code>).</li>
</ul>
<p><br></p>
<pre class="js"><code>// Add Polygon geometry object representing a park to the map
Map.centerObject(park, 15);
Map.addLayer(park, {color:&quot;#99e6b3&quot;}, &quot;Park&quot;);
</code></pre>
<p><br></p>
<center>
<iframe src="https://player.vimeo.com/video/445129978" width="640" height="302" frameborder="0" allow="autoplay; fullscreen" allowfullscreen>
</iframe>
<p>
Use Geometry Tools to create a Polygon object representing a park and display in green.
</p>
</center>
<details>
<summary><b><em>Assess the use of the <font color="#99e6b3">green colour</font>: <code>#99e6b3</code> to represent the park on Google Maps? Can you pick a different colour to visualise the park and justify your choice?</em></b></summary>
<p>
<p>The <font color="#99e6b3">green colour</font>: <code>#99e6b3</code> has a logical relationship with greenspace or parks - the real world geographic entity it is representing. However, the green colour could be edited to make it stand out from the basemap. For example, <code>#99e6b3</code> has a hue of 140, a saturation of 60 %, and a lightness of 75 %. This indicates the hue of <code>#99e6b3</code> is a spectral mix of blue and green, a saturation of 60 % indicates that the colour is not pure and includes some some grey shades, and a lightness greater than 50 % indicates that white tints are introduced to the colour. You could reduce the white tints by reducing the lightness value to 50 %, increase the saturation, and change the hue value to be closer to primary green (hue = 120). Use the <a href="https://www.w3schools.com/colors/colors_hsl.asp" target="_blank">HSL Calculator</a> to adjust hue, saturation, and lightness values and find a suitable colour to highlight your <code>park</code> against the Google Maps basemap. Edit your script to visualise your <code>park</code> object in a more distinctive green colour. You should include a different hexadecimal number as the string representing colour as the value referenced by the <code>color</code> key in the visualisation parameters. The code snippet below is an example using the hexadecimal number representation of primary green <code>00FF00</code>.</p>
<pre class="js"><code>// Use colour to highlight the park against the basemap
Map.addLayer(park, {color:&quot;#00FF00&quot;}, &quot;Park - Bright Green&quot;);
</code></pre>
</p>
</details>
<p><br></p>
<hr>
</div>
<div id="colour-to-represent-groups" class="section level2">
<h2>Colour to Represent Groups</h2>
<p>You can use colour to represent categorical groups in your data. You do not want to choose a colour palette that implies order in your data. You want to use a qualitative colour palette that ensures groups in your data can be distinguished from each other and the colours are perceived as equivalent <a href="https://serialmentor.com/dataviz/color-basics.html" target="_blank">(Wilke, 2019)</a>. Also, if it makes sense with your data choose colours that have a logical relationship with the group or category in your data (e.g. vegetated land cover classes as green in a land cover map).</p>
<p>Execute the below code. This loads the tree raster layer from the 2016 Urban Monitor data <a href="https://urbanmonitor-beta.landgate.wa.gov.au/content/app/urban-monitor-metadata-final-report.pdf" target="_blank">(Caccetta, 2012)</a> and displays tree pixels in black. The Urban Monitor data is derived from 20 cm spatial resolution multispectral aerial imagery collected and processed by CSIRO (resampled to 40 cm spatial resolution here). Tree land cover is a categorical group in your data (the only group in this raster data); is black the most suitable colour to represent trees?</p>
<pre class="js"><code>// UM Tree
var umTree = ee.Image(&quot;users/jmad1v07/gee-labs/um-lake-claremont-tree-2016&quot;);
Map.centerObject(umTree, 12);
Map.addLayer(umTree, {min: 0, max: 1, palette:[&quot;000000&quot;]}, &quot;UM Tree - black colour&quot;);
</code></pre>
<br>
<details>
<summary><b><em>Display the Urban Monitor tree <code>Image</code> on your map choosing a more suitable colour than black for display.</em></b></summary>
<p>
<p><br></p>
<pre class="js"><code>// UM Tree - green
Map.addLayer(umTree, {min: 0, max: 1, palette:[&quot;#009900&quot;]}, &quot;UM Tree - better colour???&quot;);
</code></pre>
</p>
</details>
<p><br></p>
<p>Change the base map to satellite. You can do this by clicking the satellite button in the top right corner of the map display.</p>
<br>
<center>
<div class="figure" style="text-align: center">
<img src="img/satellite-basemap.png" alt="Change to satellite basemap." width="60%" />
<p class="caption">
Change to satellite basemap.
</p>
</div>
</center>
<br>
<details>
<summary><b><em>Change the base map to satellite. Choose a suitable colour to represent trees so that they stand out against the satellite base map? Justify your choice of colour.</em></b></summary>
<p>
<p><br> You could use <a href="https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3" target="_blank">Color Brewer</a> to help pick out a colour that is distinct from the green and brown colours that dominate the base map but are safe for colour blind viewers. One option could be to use a blue colour; this will be distinct from green but the trade off is that blue is not logically associated with trees.</p>
<pre class="js"><code>// UM Tree - blue
Map.addLayer(umTree, {min: 0, max: 1, palette:[&quot;#009E73&quot;]}, &quot;UM Tree - satellite basemap&quot;);
</code></pre>
</p>
</details>
<p><br></p>
<p>You can also specify colours to visualise multiple categories in spatial data. If you execute the below code you will assign one of the colours specified in the array assigned to the <code>palette</code> key in the <code>igbpVis</code> object to one of land cover classes in the 500 m spatial resolution <a href="https://developers.google.com/earth-engine/datasets/catalog/MODIS_006_MCD12Q1" target="_blank">&gt;MODIS MCD12Q1</a> land cover data for 2019. Each pixel has a value from 1 to 17 which relates to the land cover classes (categories) of the Annual International Geosphere-Biosphere Programme (IGBP) classification.</p>
<p><br></p>
<pre class="js"><code>
// Visualise MODIS MCD12Q1 Land Cover data for 2019 
var lcModis = ee.Image(&quot;users/jmad1v07/gee-labs/lc-mcd12q1-2019-lc-type-1&quot;);

// Define a palette for the distinct land cover classes.
var igbpVis = {
  min: 1.0,
  max: 17.0,
  palette: [
    &#39;05450a&#39;, &#39;086a10&#39;, &#39;54a708&#39;, &#39;78d203&#39;, &#39;009900&#39;, &#39;c6b044&#39;, &#39;dcd159&#39;,
    &#39;dade48&#39;, &#39;fbff13&#39;, &#39;b6ff05&#39;, &#39;27ff87&#39;, &#39;c24f44&#39;, &#39;a5a5a5&#39;, &#39;ff6d4c&#39;,
    &#39;69fff8&#39;, &#39;f9ffa4&#39;, &#39;1c0dff&#39;
  ],
};
Map.centerObject(lcModis, 9);
Map.addLayer(lcModis, igbpVis, &quot;Land Cover MODIS MC12Q1 2019&quot;);
</code></pre>
<hr>
</div>
<div id="colour-to-represent-data-values" class="section level2">
<h2>Colour to Represent Data Values</h2>
<p>Up until now you have been mapping discrete values or categories to colours that are rendered on your display. However, if your data is continuous you will need to relate your data values to a range of colours in a palette to be displayed. How you relate data values to a range of colours and the choice of colours in your colour palette will determine how variation in your data is visualised.</p>
<p>The 2016 Urban Monitor data introduced above also includes a vegetation height raster layer <a href="https://urbanmonitor-beta.landgate.wa.gov.au/content/app/urban-monitor-metadata-final-report.pdf" target="_blank">(Caccetta, 2012)</a>. Again, this is data is resampled to a 40 cm spatial resolution and each pixel value represents the height of vegetation in metres if a pixel was vegetated. Height is a continuous variable with a clear order from low to high.</p>
<br>
<details>
<summary><b><em>Would a sequential or diverging colour palette be suited to visualising the height of vegetation?</em></b></summary>
<p>
<br> Sequential. There is not an obvious mid-point from which height diverges. Height increases from 0 m upwards.<br />

</p>
</details>
<p><br></p>
<p>Execute the below code visualise the Urban Monitor vegetation height data with a colour palette represent low vegetation height in black (<code>"000000"</code>) through to red for high vegetation (<code>"0000FF"</code>).</p>
<pre class="js"><code>// UM Vegetation Height
var umVht = ee.Image(&quot;users/jmad1v07/gee-labs/um-lake-claremont-vht-2016&quot;);
Map.addLayer(umVht, {min: 0, max: 100, palette:[&quot;000000&quot;, &quot;FFFF00&quot;, &quot;FF0000&quot;]}, &quot;UM Vegetation Height&quot;);
</code></pre>
<p><br></p>
<p>You should see something like the below image in your map display. It was just mentioned that the colour palette maps high vegetation to the colour red but tree canopy is appearing in black-yellow colours. Why is this?</p>
<p>If you look at the dictionary of visualisation parameters you passed as an argument to the <code>Map.addLayer()</code> function you will see <code>min: 0, max: 100</code>. This means you are relating a pixel value of 0 metres to black colours and a pixel value of 100 metres to pure red colour. Pixel values between 0 to 100 are related the range of colours spanning a black-yellow-red colour palette that can be displayed by your screen. A tree height of 100 metres exceeds the height you could expect trees to be in the Lake Claremont area in Perth. This means that values are assigned to display colours that are not in your dataset; in other words you are not utilising the range of display colours to highlight variation in your data values.</p>
<br>
<center>
<div class="figure" style="text-align: center">
<img src="img/vht-colour-scale-no-red.png" alt="Visualising Urban Monitor vegetation height data with a black-yellow-red colour scale." width="70%" />
<p class="caption">
Visualising Urban Monitor vegetation height data with a black-yellow-red colour scale.
</p>
</div>
</center>
<br>
<details>
<summary><b><em>What would be appropriate min and max vegetation height values to relate to the minimum and maximum display range to highlight variation in vegetation height? Adjust the visualisation parameters to visualise the vegetation height data to emphasise variation in vegetation height. </em></b></summary>
<p>
<pre class="js"><code>// UM Vegetation Height - adjusted display range
Map.addLayer(umVht, {min: 0, max: 30, palette:[&quot;000000&quot;, &quot;FFFF00&quot;, &quot;FF0000&quot;]}, &quot;UM Vegetation Height adjusted min max??&quot;);
</code></pre>
</p>
</details>
<p><br></p>
<details>
<summary><b><em>How effective do you think visualising vegetation height with a black-yellow-red colour palette is? Do you usually associated red with high vegetation (i.e. tree canopy)? Choose a different colour palette to represent vegetation height and justify your choice.</em></b></summary>
<p>
<p><br> Use a single hue green colour palette with darker green associated with higher vegetation. This colour palette was selected using <a href="https://colorbrewer2.org/#type=sequential&scheme=BuGn&n=3" target="_blank">Color Brewer</a>. Think about the limits of this colour palette when using it with the Google base map.</p>
<pre class="js"><code>// UM Vegetation Height - adjusted colour palette
Map.addLayer(umVht, {min: 0, max: 30, palette:[&#39;#edf8e9&#39;,&#39;#c7e9c0&#39;,&#39;#a1d99b&#39;,&#39;#74c476&#39;,&#39;#41ab5d&#39;,&#39;#238b45&#39;,&#39;#005a32&#39;]}, &quot;UM Vegetation Height adjusted colour palette&quot;);
</code></pre>
</p>
</details>
<p><br></p>
<p>The following code will load average land surface temperature (LST; Kelvin) across Perth for the summer months (December, January, and February) for the years 2014 to 2019. This LST data is derived from Landsat 8 observations and computed using the algorithm of <a href="https://ieeexplore.ieee.org/document/6784508" target="_blank">Jiménez-Muñoz et al. (2014)</a>.</p>
<pre class="js"><code>// Visualise Landsat 8 land surface temperature (K)
var lstLandsat8 = ee.Image(&quot;users/jmad1v07/gee-labs/landsat8-lst&quot;);
</code></pre>
<p><br></p>
<details>
<summary><b><em>Sensible minimum and maximum data values to relate to the limits of the display colour range are 295 to 315 K. Can you create a colour palette to visualise variation in land surface temperature and map the Landsat 8 data in the variable <code>lstLandsat8</code> using this colour palette?</em></b></summary>
<p>
<p><br></p>
<pre class="js"><code>// Example colour palette to visualise land surface temperature data
Map.centerObject(lstLandsat8, 12);
var lstVisParam = {min:295, max:315, palette:[&quot;000066&quot;,&quot;00ffff&quot;,&quot;ffff00&quot;,&quot;ff0000&quot;]};
Map.addLayer(lstLandsat8, lstVisParam, &quot;Surface Temperature (K)&quot;);
</code></pre>
</p>
</details>
<p><br></p>
<hr>
</div>
<div id="multiband-images" class="section level2">
<h2>Multiband Images</h2>
<div id="rgb-image" class="section level3">
<h3>RGB Image</h3>
<!--- UM --->
</div>
<div id="false-colour-composite-image" class="section level3">
<h3>False Colour Composite Image</h3>
<!--- UM --->
<hr>
</div>
</div>
<div id="animations" class="section level2">
<h2>Animations</h2>
<!--- Landcover / NDVI --->
<hr>
<div class="tocify-extend-page" data-unique="tocify-extend-page" style="height: 0;">

</div>
<footer>
<p>
Advanced GIS and Remote Sensing
</p>
</footer>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
